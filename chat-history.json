[
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Please redesign this website with a modern, beautiful look. Here's the current website data:\n\nWebsite URL: https://Instagram.com\n\nCurrent Content:\nTitle: Instagram\n\nURL Source: https://instagram.com/\n\nMarkdown Content:\nInstagram\n\n===============\n\n![Image 1](https://instagram.com/images/assets_DO_NOT_HARDCODE/lox_brand/landing-2x.png)\n\n[Meta](https://about.meta.com/)\n\n[About](https://about.instagram.com/)\n\n[Blog](https://about.instagram.com/blog/)\n\n[Jobs](https://about.instagram.com/about-us/careers)\n\n[Help](https://help.instagram.com/)\n\n[API](https://developers.facebook.com/docs/instagram)\n\n[Privacy](https://instagram.com/legal/privacy/)\n\n[Consumer Health Privacy](https://instagram.com/legal/privacy/health_privacy_policy/)\n\n[Terms](https://instagram.com/legal/terms/)\n\n[Locations](https://instagram.com/explore/locations/)\n\n[Instagram Lite](https://instagram.com/web/lite/)\n\n[Meta AI](https://www.meta.ai/?utm_source=foa_web_footer)\n\n[Meta AI Articles](https://www.meta.ai/pages/what-is-labubu/?utm_source=foa_web_footer)\n\n[Threads](https://www.threads.com/)\n\n[Contact Uploading & Non-Users](https://www.facebook.com/help/instagram/261704639352628)\n\n[Meta Verified](https://instagram.com/accounts/meta_verified/?entrypoint=web_footer)\n\nEnglish\n\n¬© 2025 Instagram from Meta\n\n\nPlease create a completely redesigned version with:\n- Modern, clean design\n- Better user experience\n- Responsive layout\n- Improved visual hierarchy\n- Fresh color scheme\n- Better typography\n\nMake it look professional and contemporary while keeping the core content and functionality. Clone it "
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "I will redesign the Instagram landing page with a modern, clean, and professional look using Tailwind CSS for styling and vanilla JavaScript for any interactions. The design will keep the core content, including the logo image, links"
      }
    ],
    "object": {
      "commentary": "I will redesign the Instagram landing page with a modern, clean, and professional look using Tailwind CSS for styling and vanilla JavaScript for any interactions. The design will keep the core content, including the logo image, links"
    }
  },
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Clone it "
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "I will create a stunning, modern redesign of the Instagram login page. The project will be structured into three separate files: `index.html` for the structure, `css/main.css` for custom styling and a beautiful gradient background, and `js/main.js` for subtle animations that enhance the user experience. The design will be fully responsive, featuring a two-column layout on desktop that stacks elegantly on mobile devices. I'll use Tailwind CSS for the core styling, Font Awesome for icons, and vanilla JavaScript to add a touch of dynamic interactivity, such as a fade-in effect on page load."
      }
    ],
    "object": {
      "commentary": "I will create a stunning, modern redesign of the Instagram login page. The project will be structured into three separate files: `index.html` for the structure, `css/main.css` for custom styling and a beautiful gradient background, and `js/main.js` for subtle animations that enhance the user experience. The design will be fully responsive, featuring a two-column layout on desktop that stacks elegantly on mobile devices. I'll use Tailwind CSS for the core styling, Font Awesome for icons, and vanilla JavaScript to add a touch of dynamic interactivity, such as a fade-in effect on page load.",
      "template": "vanilla-web",
      "title": "Instagram Modern Redesign",
      "description": "A modern, responsive, and visually appealing clone of the Instagram login page, built with HTML, Tailwind CSS, and vanilla JavaScript.",
      "additional_dependencies": [],
      "has_additional_dependencies": false,
      "install_dependencies_command": "",
      "port": null,
      "files": [
        {
          "file_name": "index.html",
          "file_path": "index.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap\" rel=\"stylesheet\">\n</head>\n<body class=\"bg-gray-50\">\n    <main class=\"w-full min-h-screen flex flex-col items-center justify-center font-sans p-4 opacity-0 transition-opacity duration-1000\">\n        <div class=\"container mx-auto flex flex-wrap items-center justify-center\">\n\n            <!-- Image Section -->\n            <div class=\"hidden md:block md:w-1/2 p-10\">\n                <img src=\"https://instagram.com/images/assets_DO_NOT_HARDCODE/lox_brand/landing-2x.png\" alt=\"Instagram App Preview\" class=\"max-w-md mx-auto\">\n            </div>\n\n            <!-- Form Section -->\n            <div class=\"w-full md:w-auto flex flex-col items-center\">\n                <div class=\"bg-white border border-gray-300 rounded-lg p-10 w-full max-w-sm\">\n                    <div class=\"text-center mb-8\">\n                        <h1 class=\"instagram-logo text-5xl\">Instagram</h1>\n                    </div>\n                    <form class=\"space-y-4\">\n                        <input type=\"text\" placeholder=\"Phone number, username, or email\" class=\"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition\">\n                        <input type=\"password\" placeholder=\"Password\" class=\"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition\">\n                        <button type=\"submit\" class=\"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition disabled:opacity-50\">Log In</button>\n                    </form>\n                    <div class=\"flex items-center my-6\">\n                        <div class=\"flex-grow border-t border-gray-300\"></div>\n                        <span class=\"px-4 text-gray-500 font-semibold text-sm\">OR</span>\n                        <div class=\"flex-grow border-t border-gray-300\"></div>\n                    </div>\n                    <button class=\"w-full flex items-center justify-center text-blue-900 font-semibold py-2\">\n                        <i class=\"fab fa-facebook-square mr-2 text-xl\"></i>\n                        <span>Log in with Facebook</span>\n                    </button>\n                    <a href=\"#\" class=\"block text-center text-xs text-blue-900 mt-4\">Forgot password?</a>\n                </div>\n\n                <div class=\"bg-white border border-gray-300 rounded-lg p-6 w-full max-w-sm mt-4 text-center\">\n                    <p class=\"text-sm\">Don't have an account? <a href=\"#\" class=\"text-blue-500 font-bold\">Sign up</a></p>\n                </div>\n\n                <div class=\"text-center mt-6\">\n                    <p class=\"text-sm\">Get the app.</p>\n                    <div class=\"flex justify-center space-x-4 mt-4\">\n                        <a href=\"#\"><img src=\"https://static.cdninstagram.com/rsrc.php/v3/yz/r/c5Rp7Ym-Klz.png\" alt=\"Get it on Google Play\" class=\"h-10\"></a>\n                        <a href=\"#\"><img src=\"https://static.cdninstagram.com/rsrc.php/v3/yu/r/EHY6QnZYdNX.png\" alt=\"Get it from Microsoft\" class=\"h-10\"></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Footer Links -->\n        <footer class=\"w-full max-w-5xl mx-auto text-center text-xs text-gray-500 mt-12 p-4\">\n            <div class=\"flex flex-wrap justify-center gap-x-4 gap-y-2 mb-4\">\n                <a href=\"https://about.meta.com/\" class=\"hover:underline\">Meta</a>\n                <a href=\"https://about.instagram.com/\" class=\"hover:underline\">About</a>\n                <a href=\"https://about.instagram.com/blog/\" class=\"hover:underline\">Blog</a>\n                <a href=\"https://about.instagram.com/about-us/careers\" class=\"hover:underline\">Jobs</a>\n                <a href=\"https://help.instagram.com/\" class=\"hover:underline\">Help</a>\n                <a href=\"https://developers.facebook.com/docs/instagram\" class=\"hover:underline\">API</a>\n                <a href=\"https://instagram.com/legal/privacy/\" class=\"hover:underline\">Privacy</a>\n                <a href=\"https://instagram.com/legal/terms/\" class=\"hover:underline\">Terms</a>\n                <a href=\"https://instagram.com/explore/locations/\" class=\"hover:underline\">Locations</a>\n                <a href=\"https://instagram.com/web/lite/\" class=\"hover:underline\">Instagram Lite</a>\n                <a href=\"https://www.threads.com/\" class=\"hover:underline\">Threads</a>\n                <a href=\"https://www.facebook.com/help/instagram/261704639352628\" class=\"hover:underline\">Contact Uploading & Non-Users</a>\n                <a href=\"https://instagram.com/accounts/meta_verified/?entrypoint=web_footer\" class=\"hover:underline\">Meta Verified</a>\n            </div>\n            <div class=\"flex justify-center items-center space-x-4\">\n                <span>English</span>\n                <span>¬© 2025 Instagram from Meta</span>\n            </div>\n        </footer>\n    </main>\n\n    <a href=\"https://seron.dev\" target=\"_blank\" class=\"made-by-seron\">\n        Made by Seron\n    </a>\n\n    <script src=\"js/main.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "main.css",
          "file_path": "css/main.css",
          "file_content": "@import url('https://fonts.googleapis.com/css2?family=Lobster&display=swap');\n\nbody {\n    font-family: 'Roboto', sans-serif;\n}\n\n.instagram-logo {\n    font-family: 'Lobster', cursive;\n    background: -webkit-linear-gradient(45deg, #feda75, #fa7e1e, #d62976, #962fbf, #4f5bd5);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n}\n\n.made-by-seron {\n    position: fixed;\n    bottom: 1rem;\n    right: 1rem;\n    background-color: #1a202c;\n    color: #fff;\n    padding: 0.5rem 1rem;\n    border-radius: 9999px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    text-decoration: none;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n}\n\n.made-by-seron:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n"
        },
        {
          "file_name": "main.js",
          "file_path": "js/main.js",
          "file_content": "document.addEventListener('DOMContentLoaded', function() {\n    const mainContent = document.querySelector('main');\n    const inputs = document.querySelectorAll('input');\n    const loginButton = document.querySelector('button[type=\"submit\"]');\n\n    // Fade in the main content on load\n    setTimeout(() => {\n        mainContent.style.opacity = '1';\n    }, 100);\n\n    // Function to check if both inputs have values\n    function checkInputs() {\n        const username = inputs[0].value.trim();\n        const password = inputs[1].value.trim();\n        loginButton.disabled = !(username && password);\n    }\n\n    // Add event listeners to inputs\n    inputs.forEach(input => {\n        input.addEventListener('keyup', checkInputs);\n    });\n\n    // Initial check\n    checkInputs();\n});\n"
        }
      ],
      "isEdited": true
    }
  },
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Neo create a clone of the instagram mobile app please creature clone in light mode "
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "I will create a high-fidelity, light-mode clone of the Instagram mobile application UI. The project will be structured into three separate files: `index.html` for the main structure, `css/main.css` for custom styles like the story gradient borders, and `js/main.js` to add interactivity, specifically for the 'like' button functionality. The design will be mobile-first and fully responsive, using Tailwind CSS for the utility-first styling approach and Font Awesome for the icons. The layout will feature the main components of the Instagram app: a top navigation bar, a horizontally scrolling stories section, a vertical feed of posts, and a fixed bottom navigation bar."
      }
    ],
    "object": {
      "commentary": "I will create a high-fidelity, light-mode clone of the Instagram mobile application UI. The project will be structured into three separate files: `index.html` for the main structure, `css/main.css` for custom styles like the story gradient borders, and `js/main.js` to add interactivity, specifically for the 'like' button functionality. The design will be mobile-first and fully responsive, using Tailwind CSS for the utility-first styling approach and Font Awesome for the icons. The layout will feature the main components of the Instagram app: a top navigation bar, a horizontally scrolling stories section, a vertical feed of posts, and a fixed bottom navigation bar.",
      "template": "vanilla-web",
      "title": "Instagram Mobile UI Clone",
      "description": "A modern, light-mode, and interactive clone of the Instagram mobile app interface built with HTML, Tailwind CSS, and vanilla JavaScript.",
      "additional_dependencies": [],
      "has_additional_dependencies": false,
      "install_dependencies_command": "",
      "port": null,
      "files": [
        {
          "file_name": "index.html",
          "file_path": "index.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap\" rel=\"stylesheet\">\n</head>\n<body class=\"bg-gray-50 text-gray-800 font-sans\">\n\n    <div id=\"app-container\" class=\"max-w-md mx-auto bg-white border-x border-gray-200\">\n\n        <!-- Top Navigation -->\n        <header class=\"fixed top-0 left-0 right-0 z-10 bg-white border-b border-gray-200 max-w-md mx-auto\">\n            <div class=\"flex justify-between items-center px-4 py-3\">\n                <h1 class=\"text-2xl font-serif tracking-wider\">Instagram</h1>\n                <div class=\"flex items-center space-x-5 text-2xl\">\n                    <a href=\"#\" class=\"hover:text-gray-600\"><i class=\"far fa-plus-square\"></i></a>\n                    <a href=\"#\" class=\"hover:text-gray-600\"><i class=\"far fa-heart\"></i></a>\n                    <a href=\"#\" class=\"hover:text-gray-600\"><i class=\"fa-regular fa-paper-plane\"></i></a>\n                </div>\n            </div>\n        </header>\n\n        <!-- Main Content -->\n        <main class=\"pt-14 pb-16\">\n            <!-- Stories -->\n            <section class=\"py-3 border-b border-gray-200\">\n                <div class=\"flex space-x-4 overflow-x-auto px-4 pb-2 scrollbar-hide\">\n                    <!-- Your Story -->\n                    <div class=\"flex-shrink-0 text-center\">\n                        <div class=\"relative\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-gray-300 p-0.5\" src=\"https://i.pravatar.cc/150?u=my_story\" alt=\"Your Story\">\n                            <button class=\"absolute bottom-0 right-0 bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs border-2 border-white\">+</button>\n                        </div>\n                        <p class=\"text-xs mt-1\">Your Story</p>\n                    </div>\n                    <!-- Friend Stories -->\n                    <div class=\"flex-shrink-0 text-center\">\n                         <div class=\"story-gradient-ring p-0.5 rounded-full\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-white\" src=\"https://i.pravatar.cc/150?u=user1\" alt=\"User Story\">\n                        </div>\n                        <p class=\"text-xs mt-1\">sarah_k</p>\n                    </div>\n                     <div class=\"flex-shrink-0 text-center\">\n                         <div class=\"story-gradient-ring p-0.5 rounded-full\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-white\" src=\"https://i.pravatar.cc/150?u=user2\" alt=\"User Story\">\n                        </div>\n                        <p class=\"text-xs mt-1\">john.doe</p>\n                    </div>\n                     <div class=\"flex-shrink-0 text-center\">\n                         <div class=\"story-gradient-ring p-0.5 rounded-full\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-white\" src=\"https://i.pravatar.cc/150?u=user3\" alt=\"User Story\">\n                        </div>\n                        <p class=\"text-xs mt-1\">creative_co</p>\n                    </div>\n                     <div class=\"flex-shrink-0 text-center\">\n                         <div class=\"story-gradient-ring p-0.5 rounded-full\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-white\" src=\"https://i.pravatar.cc/150?u=user4\" alt=\"User Story\">\n                        </div>\n                        <p class=\"text-xs mt-1\">traveler</p>\n                    </div>\n                     <div class=\"flex-shrink-0 text-center\">\n                         <div class=\"story-gradient-ring p-0.5 rounded-full\">\n                            <img class=\"w-16 h-16 rounded-full object-cover border-2 border-white\" src=\"https://i.pravatar.cc/150?u=user5\" alt=\"User Story\">\n                        </div>\n                        <p class=\"text-xs mt-1\">foodie_life</p>\n                    </div>\n                </div>\n            </section>\n\n            <!-- Feed -->\n            <section id=\"feed\">\n                <!-- Post 1 -->\n                <article class=\"bg-white\">\n                    <div class=\"flex items-center p-3\">\n                        <img class=\"w-8 h-8 rounded-full object-cover\" src=\"https://i.pravatar.cc/150?u=user2\" alt=\"User Profile\">\n                        <p class=\"ml-3 font-semibold text-sm\">john.doe</p>\n                        <i class=\"fas fa-ellipsis-h text-gray-500 ml-auto\"></i>\n                    </div>\n                    <img src=\"https://picsum.photos/seed/1/600/600\" alt=\"Post Image\" class=\"w-full\">\n                    <div class=\"p-3\">\n                        <div class=\"flex items-center space-x-4 text-2xl\">\n                            <button class=\"like-button\"><i class=\"far fa-heart\"></i></button>\n                            <i class=\"far fa-comment\"></i>\n                            <i class=\"far fa-paper-plane\"></i>\n                            <i class=\"far fa-bookmark ml-auto\"></i>\n                        </div>\n                        <p class=\"text-sm font-semibold mt-3\">1,024 likes</p>\n                        <p class=\"text-sm mt-1\"><span class=\"font-semibold\">john.doe</span> Exploring the city vibes today! üèôÔ∏è #cityscape #adventure</p>\n                        <p class=\"text-xs text-gray-500 mt-2\">View all 42 comments</p>\n                        <p class=\"text-xs text-gray-400 mt-1 uppercase\">1 hour ago</p>\n                    </div>\n                </article>\n                \n                <!-- Post 2 -->\n                <article class=\"bg-white mt-4\">\n                    <div class=\"flex items-center p-3\">\n                        <img class=\"w-8 h-8 rounded-full object-cover\" src=\"https://i.pravatar.cc/150?u=user4\" alt=\"User Profile\">\n                        <p class=\"ml-3 font-semibold text-sm\">traveler</p>\n                        <i class=\"fas fa-ellipsis-h text-gray-500 ml-auto\"></i>\n                    </div>\n                    <img src=\"https://picsum.photos/seed/2/600/700\" alt=\"Post Image\" class=\"w-full\">\n                    <div class=\"p-3\">\n                        <div class=\"flex items-center space-x-4 text-2xl\">\n                            <button class=\"like-button\"><i class=\"far fa-heart\"></i></button>\n                            <i class=\"far fa-comment\"></i>\n                            <i class=\"far fa-paper-plane\"></i>\n                            <i class=\"far fa-bookmark ml-auto\"></i>\n                        </div>\n                        <p class=\"text-sm font-semibold mt-3\">5,831 likes</p>\n                        <p class=\"text-sm mt-1\"><span class=\"font-semibold\">traveler</span> Found paradise. I'm never leaving. üå¥‚òÄÔ∏è</p>\n                        <p class=\"text-xs text-gray-500 mt-2\">View all 199 comments</p>\n                        <p class=\"text-xs text-gray-400 mt-1 uppercase\">3 hours ago</p>\n                    </div>\n                </article>\n            </section>\n        </main>\n\n        <!-- Bottom Navigation -->\n        <footer class=\"fixed bottom-0 left-0 right-0 z-10 bg-white border-t border-gray-200 max-w-md mx-auto\">\n            <nav class=\"flex justify-around items-center h-14 text-2xl text-gray-700\">\n                <a href=\"#\" class=\"text-black\"><i class=\"fas fa-home\"></i></a>\n                <a href=\"#\"><i class=\"fas fa-search\"></i></a>\n                <a href=\"#\"><i class=\"far fa-play-circle\"></i></a>\n                <a href=\"#\"><i class=\"fas fa-shopping-bag\"></i></a>\n                <a href=\"#\"><img class=\"w-7 h-7 rounded-full object-cover\" src=\"https://i.pravatar.cc/150?u=my_story\" alt=\"My Profile\"></a>\n            </nav>\n        </footer>\n    </div>\n\n    <a href=\"https://seron.dev\" target=\"_blank\" class=\"fixed bottom-4 right-4 bg-gray-800 text-white text-xs font-bold py-1.5 px-3 rounded-full shadow-lg hover:bg-gray-700 transition-colors z-20\">\n        Made by Seron\n    </a>\n\n    <script src=\"js/main.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "main.css",
          "file_path": "css/main.css",
          "file_content": "body {\n    font-family: 'Roboto', sans-serif;\n}\n\n/* Custom class for the story gradient border */\n.story-gradient-ring {\n    background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);\n}\n\n/* Simple hide scrollbar utility */\n.scrollbar-hide::-webkit-scrollbar {\n    display: none;\n}\n\n.scrollbar-hide {\n    -ms-overflow-style: none;  /* IE and Edge */\n    scrollbar-width: none;  /* Firefox */\n}\n\n/* Styles for liked button */\n.like-button .fa-heart.liked {\n    color: #ED4956; /* Instagram red */\n    font-weight: 900; /* 'fas' style */\n}\n"
        },
        {
          "file_name": "main.js",
          "file_path": "js/main.js",
          "file_content": "document.addEventListener('DOMContentLoaded', function() {\n    const likeButtons = document.querySelectorAll('.like-button');\n\n    likeButtons.forEach(button => {\n        button.addEventListener('click', () => {\n            const heartIcon = button.querySelector('.fa-heart');\n            // Toggle between 'far' (regular) and 'fas' (solid) and add our custom color class\n            heartIcon.classList.toggle('far'); // regular\n            heartIcon.classList.toggle('fas'); // solid\n            heartIcon.classList.toggle('liked'); // custom class for color\n        });\n    });\n});\n"
        }
      ],
      "isEdited": false
    }
  },
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "More better use make more better more modern please add more pages add login page make it work using Forbes create a rule file please add evening need please full stack app working posting like and more please "
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "I will construct a comprehensive, full-stack Instagram clone using vanilla HTML, CSS, and JavaScript, powered by Firebase for the backend. This multi-page application will feature user authentication (login/signup), a main feed to view posts, the ability to upload new photos with captions, a user profile page to view your own posts, and a 'like' functionality. The project is meticulously organized into separate files for each page (Login, Feed, Profile, Upload) and modular JavaScript files for handling authentication, Firebase configuration, and page-specific logic. The UI will be a modern, light-mode, and fully responsive, built with Tailwind CSS and enhanced with Font Awesome icons. I've also included the necessary Firebase Firestore security rules in a `firestore.rules` file to ensure data is protected. To make this work, you will need to create a new Firebase project, enable Authentication (Email/Password), Firestore Database, and Storage, and then copy your Firebase project configuration into the `js/firebase.js` file."
      }
    ],
    "object": {
      "commentary": "I will construct a comprehensive, full-stack Instagram clone using vanilla HTML, CSS, and JavaScript, powered by Firebase for the backend. This multi-page application will feature user authentication (login/signup), a main feed to view posts, the ability to upload new photos with captions, a user profile page to view your own posts, and a 'like' functionality. The project is meticulously organized into separate files for each page (Login, Feed, Profile, Upload) and modular JavaScript files for handling authentication, Firebase configuration, and page-specific logic. The UI will be a modern, light-mode, and fully responsive, built with Tailwind CSS and enhanced with Font Awesome icons. I've also included the necessary Firebase Firestore security rules in a `firestore.rules` file to ensure data is protected. To make this work, you will need to create a new Firebase project, enable Authentication (Email/Password), Firestore Database, and Storage, and then copy your Firebase project configuration into the `js/firebase.js` file.",
      "template": "vanilla-js",
      "title": "Full-Stack Instagram Clone",
      "description": "A complete, full-stack Instagram clone with user authentication, photo uploads, a dynamic feed, and liking functionality, all built with vanilla JavaScript and Firebase.",
      "additional_dependencies": [
        "tailwindcss",
        "firebase",
        "font-awesome"
      ],
      "has_additional_dependencies": true,
      "install_dependencies_command": "N/A (Dependencies are included via CDN)",
      "port": null,
      "files": [
        {
          "file_name": "login.html",
          "file_path": "login.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login - Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n</head>\n<body class=\"bg-gray-50\">\n    <div class=\"container mx-auto flex flex-col justify-center items-center min-h-screen p-4\">\n        <div class=\"w-full max-w-sm\">\n            <!-- Login Form -->\n            <div id=\"login-box\" class=\"bg-white border border-gray-300 rounded-md p-8 text-center\">\n                <img src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"Instagram\" class=\"h-8 mx-auto mb-6\">\n                <form id=\"login-form\">\n                    <input type=\"email\" id=\"login-email\" placeholder=\"Email\" class=\"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 mb-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\">\n                    <input type=\"password\" id=\"login-password\" placeholder=\"Password\" class=\"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 mb-4 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\">\n                    <button type=\"submit\" class=\"w-full bg-blue-500 text-white font-semibold py-2 rounded-lg hover:bg-blue-600 transition-colors\">Log In</button>\n                </form>\n                <div class=\"text-red-500 text-sm mt-2\" id=\"login-error\"></div>\n            </div>\n\n            <!-- Sign Up Toggle -->\n            <div class=\"bg-white border border-gray-300 rounded-md p-6 text-center mt-4\">\n                <p class=\"text-sm\">Don't have an account? <button id=\"show-signup\" class=\"text-blue-500 font-semibold\">Sign up</button></p>\n            </div>\n        </div>\n\n        <div id=\"signup-container\" class=\"hidden w-full max-w-sm mt-[-20px]\">\n            <!-- Signup Form -->\n            <div class=\"bg-white border border-gray-300 rounded-md p-8 text-center\">\n                <img src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"Instagram\" class=\"h-8 mx-auto mb-4\">\n                <p class=\"text-gray-500 font-semibold mb-4\">Sign up to see photos and videos from your friends.</p>\n                <form id=\"signup-form\">\n                    <input type=\"email\" id=\"signup-email\" placeholder=\"Email\" class=\"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 mb-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\">\n                    <input type=\"text\" id=\"signup-username\" placeholder=\"Username\" class=\"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 mb-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\">\n                    <input type=\"password\" id=\"signup-password\" placeholder=\"Password\" class=\"w-full bg-gray-50 border border-gray-300 rounded px-3 py-2 mb-4 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\">\n                    <button type=\"submit\" class=\"w-full bg-blue-500 text-white font-semibold py-2 rounded-lg hover:bg-blue-600 transition-colors\">Sign Up</button>\n                </form>\n                <div class=\"text-red-500 text-sm mt-2\" id=\"signup-error\"></div>\n            </div>\n\n             <!-- Login Toggle -->\n            <div class=\"bg-white border border-gray-300 rounded-md p-6 text-center mt-4\">\n                <p class=\"text-sm\">Have an account? <button id=\"show-login\" class=\"text-blue-500 font-semibold\">Log in</button></p>\n            </div>\n        </div>\n    </div>\n    <script type=\"module\" src=\"js/auth.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "index.html",
          "file_path": "index.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <!-- Top Navigation -->\n    <nav class=\"fixed top-0 left-0 right-0 bg-white border-b border-gray-300 z-10\">\n        <div class=\"container mx-auto flex justify-between items-center p-3\">\n            <img src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"Instagram\" class=\"h-7\">\n            <div class=\"flex items-center space-x-4\">\n                <a href=\"/\" class=\"text-2xl text-black\"><i class=\"fas fa-home\"></i></a>\n                <a href=\"/upload.html\" class=\"text-2xl text-black\"><i class=\"far fa-plus-square\"></i></a>\n                <a href=\"/profile.html\" class=\"text-2xl text-black\"><i class=\"far fa-user-circle\"></i></a>\n                <button id=\"logout-btn\" class=\"text-sm text-blue-500 font-semibold\">Logout</button>\n            </div>\n        </div>\n    </nav>\n\n    <main class=\"container mx-auto max-w-lg pt-16 pb-20\">\n        <!-- Feed Container -->\n        <div id=\"feed-container\" class=\"space-y-4\">\n            <!-- Posts will be injected here by JavaScript -->\n            <div class=\"text-center p-10 text-gray-500\">Loading posts...</div>\n        </div>\n    </main>\n\n    <!-- Bottom Navigation -->\n    <nav class=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 z-10 md:hidden\">\n        <div class=\"container mx-auto flex justify-around items-center p-3\">\n            <a href=\"/\" class=\"text-2xl text-black\"><i class=\"fas fa-home\"></i></a>\n            <a href=\"#\" class=\"text-2xl text-black\"><i class=\"fas fa-search\"></i></a>\n            <a href=\"/upload.html\" class=\"text-2xl text-black\"><i class=\"far fa-plus-square\"></i></a>\n            <a href=\"#\" class=\"text-2xl text-black\"><i class=\"far fa-heart\"></i></a>\n            <a href=\"/profile.html\" class=\"text-2xl text-black\"><i class=\"far fa-user-circle\"></i></a>\n        </div>\n    </nav>\n\n    <script type=\"module\" src=\"js/main.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "profile.html",
          "file_path": "profile.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Profile - Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <!-- Top Navigation -->\n    <nav class=\"fixed top-0 left-0 right-0 bg-white border-b border-gray-300 z-10\">\n        <div class=\"container mx-auto flex justify-between items-center p-3\">\n            <a href=\"/\" class=\"text-black\"><i class=\"fas fa-arrow-left\"></i></a>\n            <h1 id=\"profile-username-header\" class=\"font-semibold\"></h1>\n            <div></div>\n        </div>\n    </nav>\n\n    <main class=\"container mx-auto max-w-4xl pt-16 pb-20\">\n        <!-- Profile Header -->\n        <div class=\"p-4\">\n            <div class=\"flex items-center space-x-4\">\n                <div class=\"w-20 h-20 md:w-36 md:h-36 bg-gray-200 rounded-full\"></div>\n                <div class=\"flex-1\">\n                    <h2 id=\"profile-username\" class=\"text-2xl font-light\"></h2>\n                    <div class=\"flex space-x-8 mt-4 text-sm md:text-base\">\n                        <div><span id=\"post-count\" class=\"font-semibold\">0</span> posts</div>\n                        <div><span class=\"font-semibold\">0</span> followers</div>\n                        <div><span class=\"font-semibold\">0</span> following</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Post Grid -->\n        <div id=\"post-grid\" class=\"grid grid-cols-3 gap-1 p-1 mt-4\">\n            <!-- User's posts will be injected here -->\n        </div>\n    </main>\n\n    <!-- Bottom Navigation -->\n    <nav class=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 z-10\">\n        <div class=\"container mx-auto flex justify-around items-center p-3\">\n            <a href=\"/\" class=\"text-2xl text-black\"><i class=\"fas fa-home\"></i></a>\n            <a href=\"/upload.html\" class=\"text-2xl text-black\"><i class=\"far fa-plus-square\"></i></a>\n            <a href=\"/profile.html\" class=\"text-2xl text-black\"><i class=\"far fa-user-circle\"></i></a>\n        </div>\n    </nav>\n\n    <script type=\"module\" src=\"js/profile.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "upload.html",
          "file_path": "upload.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>New Post - Instagram</title>\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <div class=\"container mx-auto max-w-lg p-4 min-h-screen flex flex-col justify-center items-center\">\n        <div class=\"w-full bg-white border rounded-lg p-6\">\n            <h1 class=\"text-center text-xl font-semibold mb-6\">Create New Post</h1>\n            <form id=\"upload-form\">\n                <div class=\"mb-4\">\n                    <label for=\"file-upload\" class=\"cursor-pointer bg-gray-100 border border-dashed border-gray-400 rounded-lg flex flex-col items-center justify-center h-48\">\n                        <i class=\"fas fa-cloud-upload-alt text-4xl text-gray-400\"></i>\n                        <span class=\"mt-2 text-sm text-gray-600\">Select a photo</span>\n                    </label>\n                    <input id=\"file-upload\" type=\"file\" class=\"hidden\" accept=\"image/*\">\n                </div>\n                <div id=\"image-preview-container\" class=\"hidden mb-4\">\n                     <img id=\"image-preview\" src=\"#\" alt=\"Image preview\" class=\"max-h-64 mx-auto rounded-lg\"/>\n                </div>\n                <div class=\"mb-4\">\n                    <textarea id=\"caption\" placeholder=\"Write a caption...\" class=\"w-full border rounded-lg p-2 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400\" rows=\"3\"></textarea>\n                </div>\n                <button type=\"submit\" class=\"w-full bg-blue-500 text-white font-semibold py-2 rounded-lg hover:bg-blue-600 transition-colors\">Share</button>\n                <div id=\"upload-status\" class=\"text-center text-sm mt-4\"></div>\n            </form>\n             <a href=\"/\" class=\"text-center block text-sm text-gray-500 mt-4 hover:text-black\">Back to Feed</a>\n        </div>\n    </div>\n\n    <script type=\"module\" src=\"js/upload.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "main.css",
          "file_path": "css/main.css",
          "file_content": "/* Custom styles can go here if needed */\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n}\n"
        },
        {
          "file_name": "firebase.js",
          "file_path": "js/firebase.js",
          "file_content": "// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js\";\nimport { getAuth } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js\";\nimport { getFirestore } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\";\nimport { getStorage } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js\";\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"YOUR_API_KEY\",\n  authDomain: \"YOUR_AUTH_DOMAIN\",\n  projectId: \"YOUR_PROJECT_ID\",\n  storageBucket: \"YOUR_STORAGE_BUCKET\",\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_APP_ID\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);\n"
        },
        {
          "file_name": "auth.js",
          "file_path": "js/auth.js",
          "file_content": "import { auth, db } from './firebase.js';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js\";\nimport { setDoc, doc } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const loginForm = document.getElementById('login-form');\n    const signupForm = document.getElementById('signup-form');\n    const loginError = document.getElementById('login-error');\n    const signupError = document.getElementById('signup-error');\n    const showSignupBtn = document.getElementById('show-signup');\n    const showLoginBtn = document.getElementById('show-login');\n    const loginBox = document.querySelector('.w-full.max-w-sm > div:first-of-type').parentElement;\n    const signupContainer = document.getElementById('signup-container');\n\n    // Redirect if user is already logged in\n    onAuthStateChanged(auth, (user) => {\n        if (user) {\n            window.location.href = '/index.html';\n        }\n    });\n\n    showSignupBtn.addEventListener('click', () => {\n        loginBox.classList.add('hidden');\n        signupContainer.classList.remove('hidden');\n    });\n\n    showLoginBtn.addEventListener('click', () => {\n        signupContainer.classList.add('hidden');\n        loginBox.classList.remove('hidden');\n    });\n\n    // Login logic\n    loginForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const email = document.getElementById('login-email').value;\n        const password = document.getElementById('login-password').value;\n\n        signInWithEmailAndPassword(auth, email, password)\n            .then((userCredential) => {\n                window.location.href = '/index.html';\n            })\n            .catch((error) => {\n                loginError.textContent = error.message;\n            });\n    });\n\n    // Signup logic\n    signupForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const email = document.getElementById('signup-email').value;\n        const password = document.getElementById('signup-password').value;\n        const username = document.getElementById('signup-username').value;\n\n        if (!username) {\n            signupError.textContent = 'Please enter a username.';\n            return;\n        }\n\n        createUserWithEmailAndPassword(auth, email, password)\n            .then(async (userCredential) => {\n                const user = userCredential.user;\n                // Create a user document in Firestore\n                await setDoc(doc(db, 'users', user.uid), {\n                    username: username,\n                    email: email\n                });\n                window.location.href = '/index.html';\n            })\n            .catch((error) => {\n                signupError.textContent = error.message;\n            });\n    });\n});"
        },
        {
          "file_name": "main.js",
          "file_path": "js/main.js",
          "file_content": "import { auth, db } from './firebase.js';\nimport { onAuthStateChanged, signOut } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js\";\nimport { collection, query, getDocs, orderBy, doc, getDoc, updateDoc, arrayUnion, arrayRemove } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const feedContainer = document.getElementById('feed-container');\n    const logoutBtn = document.getElementById('logout-btn');\n\n    let currentUser = null;\n\n    onAuthStateChanged(auth, (user) => {\n        if (user) {\n            currentUser = user;\n            loadFeed();\n        } else {\n            window.location.href = '/login.html';\n        }\n    });\n\n    logoutBtn.addEventListener('click', () => {\n        signOut(auth).then(() => {\n            window.location.href = '/login.html';\n        }).catch((error) => {\n            console.error('Sign out error', error);\n        });\n    });\n\n    const loadFeed = async () => {\n        feedContainer.innerHTML = '';\n        const q = query(collection(db, 'posts'), orderBy('timestamp', 'desc'));\n        const querySnapshot = await getDocs(q);\n\n        for (const postDoc of querySnapshot.docs) {\n            const postData = postDoc.data();\n            const userDocRef = doc(db, 'users', postData.userId);\n            const userDocSnap = await getDoc(userDocRef);\n            const userData = userDocSnap.data();\n\n            const postElement = createPostElement(postDoc.id, postData, userData);\n            feedContainer.appendChild(postElement);\n        }\n    };\n\n    const createPostElement = (postId, postData, userData) => {\n        const postDiv = document.createElement('div');\n        postDiv.className = 'bg-white border rounded-lg';\n\n        const isLiked = postData.likes && postData.likes.includes(currentUser.uid);\n\n        postDiv.innerHTML = `\n            <div class=\"flex items-center p-3\">\n                <div class=\"w-8 h-8 bg-gray-200 rounded-full mr-3\"></div>\n                <span class=\"font-semibold\">${userData.username}</span>\n            </div>\n            <img src=\"${postData.imageUrl}\" alt=\"Post image\" class=\"w-full\">\n            <div class=\"p-3\">\n                <div class=\"flex items-center space-x-4 mb-2\">\n                    <button data-post-id=\"${postId}\" class=\"like-btn text-2xl\">\n                        <i class=\"${isLiked ? 'fas fa-heart text-red-500' : 'far fa-heart'}\"></i>\n                    </button>\n                    <button class=\"text-2xl\"><i class=\"far fa-comment\"></i></button>\n                    <button class=\"text-2xl\"><i class=\"far fa-paper-plane\"></i></button>\n                </div>\n                <p class=\"font-semibold\"><span class=\"like-count\">${postData.likes ? postData.likes.length : 0}</span> likes</p>\n                <p><span class=\"font-semibold\">${userData.username}</span> ${postData.caption}</p>\n            </div>\n        `;\n\n        const likeBtn = postDiv.querySelector('.like-btn');\n        likeBtn.addEventListener('click', () => toggleLike(postId, likeBtn, postDiv));\n\n        return postDiv;\n    };\n\n    const toggleLike = async (postId, likeBtn, postDiv) => {\n        const postRef = doc(db, 'posts', postId);\n        const likeIcon = likeBtn.querySelector('i');\n        const likeCountElement = postDiv.querySelector('.like-count');\n        let currentLikes = parseInt(likeCountElement.textContent);\n\n        if (likeIcon.classList.contains('far')) { // Not liked, so like it\n            await updateDoc(postRef, { likes: arrayUnion(currentUser.uid) });\n            likeIcon.classList.remove('far');\n            likeIcon.classList.add('fas', 'fa-heart', 'text-red-500');\n            likeCountElement.textContent = currentLikes + 1;\n        } else { // Liked, so unlike it\n            await updateDoc(postRef, { likes: arrayRemove(currentUser.uid) });\n            likeIcon.classList.remove('fas', 'fa-heart', 'text-red-500');\n            likeIcon.classList.add('far', 'fa-heart');\n            likeCountElement.textContent = currentLikes - 1;\n        }\n    };\n});"
        },
        {
          "file_name": "upload.js",
          "file_path": "js/upload.js",
          "file_content": "import { auth, db, storage } from './firebase.js';\nimport { onAuthStateChanged } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js\";\nimport { collection, addDoc, serverTimestamp } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\";\nimport { ref, uploadBytes, getDownloadURL } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const uploadForm = document.getElementById('upload-form');\n    const fileInput = document.getElementById('file-upload');\n    const captionInput = document.getElementById('caption');\n    const imagePreviewContainer = document.getElementById('image-preview-container');\n    const imagePreview = document.getElementById('image-preview');\n    const uploadStatus = document.getElementById('upload-status');\n\n    let currentUser = null;\n    let selectedFile = null;\n\n    onAuthStateChanged(auth, (user) => {\n        if (user) {\n            currentUser = user;\n        } else {\n            window.location.href = '/login.html';\n        }\n    });\n\n    fileInput.addEventListener('change', (e) => {\n        selectedFile = e.target.files[0];\n        if (selectedFile) {\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                imagePreview.src = event.target.result;\n                imagePreviewContainer.classList.remove('hidden');\n            };\n            reader.readAsDataURL(selectedFile);\n        }\n    });\n\n    uploadForm.addEventListener('submit', async (e) => {\n        e.preventDefault();\n\n        if (!selectedFile || !currentUser) {\n            uploadStatus.textContent = 'Please select a file to upload.';\n            uploadStatus.classList.add('text-red-500');\n            return;\n        }\n\n        uploadStatus.textContent = 'Uploading...';\n        uploadStatus.classList.remove('text-red-500', 'text-green-500');\n\n        try {\n            // 1. Upload image to Firebase Storage\n            const storageRef = ref(storage, `posts/${currentUser.uid}/${Date.now()}_${selectedFile.name}`);\n            const snapshot = await uploadBytes(storageRef, selectedFile);\n            const downloadURL = await getDownloadURL(snapshot.ref);\n\n            // 2. Add post data to Firestore\n            await addDoc(collection(db, 'posts'), {\n                userId: currentUser.uid,\n                caption: captionInput.value,\n                imageUrl: downloadURL,\n                likes: [],\n                timestamp: serverTimestamp()\n            });\n\n            uploadStatus.textContent = 'Post shared successfully!';\n            uploadStatus.classList.add('text-green-500');\n            setTimeout(() => { window.location.href = '/index.html' }, 1500);\n\n        } catch (error) {\n            console.error('Error uploading post:', error);\n            uploadStatus.textContent = 'Failed to share post. Please try again.';\n            uploadStatus.classList.add('text-red-500');\n        }\n    });\n});"
        },
        {
          "file_name": "profile.js",
          "file_path": "js/profile.js",
          "file_content": "import { auth, db } from './firebase.js';\nimport { onAuthStateChanged } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js\";\nimport { collection, query, where, getDocs, orderBy, doc, getDoc } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const usernameHeader = document.getElementById('profile-username-header');\n    const usernameElement = document.getElementById('profile-username');\n    const postCountElement = document.getElementById('post-count');\n    const postGrid = document.getElementById('post-grid');\n\n    onAuthStateChanged(auth, (user) => {\n        if (user) {\n            loadProfile(user);\n        } else {\n            window.location.href = '/login.html';\n        }\n    });\n\n    const loadProfile = async (user) => {\n        // Fetch user data\n        const userDocRef = doc(db, 'users', user.uid);\n        const userDocSnap = await getDoc(userDocRef);\n        const userData = userDocSnap.data();\n\n        usernameHeader.textContent = userData.username;\n        usernameElement.textContent = userData.username;\n\n        // Fetch user's posts\n        const q = query(collection(db, 'posts'), where('userId', '==', user.uid), orderBy('timestamp', 'desc'));\n        const querySnapshot = await getDocs(q);\n\n        postCountElement.textContent = querySnapshot.size;\n        postGrid.innerHTML = ''; // Clear existing posts\n\n        querySnapshot.forEach((doc) => {\n            const postData = doc.data();\n            const postElement = document.createElement('div');\n            postElement.className = 'aspect-square bg-gray-200';\n            postElement.innerHTML = `<img src=\"${postData.imageUrl}\" class=\"w-full h-full object-cover\" alt=\"User post\">`;\n            postGrid.appendChild(postElement);\n        });\n    };\n});"
        },
        {
          "file_name": "firestore.rules",
          "file_path": "firestore.rules",
          "file_content": "rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n\n    // Users: Can create their own user doc, can only read/update their own doc.\n    match /users/{userId} {\n      allow create: if request.auth != null;\n      allow read, update: if request.auth.uid == userId;\n    }\n\n    // Posts: Logged-in users can create posts. Anyone can read. Only the author can update/delete.\n    match /posts/{postId} {\n      allow read: if request.auth != null;\n      allow create: if request.auth != null;\n      allow update, delete: if request.auth.uid == resource.data.userId;\n    }\n  }\n}"
        }
      ]
    }
  },
  {
    "role": "user",
    "content": [
      {
        "type": "text",
        "text": "Called myig please make more better please make it support pwa more better please "
      }
    ]
  },
  {
    "role": "assistant",
    "content": [
      {
        "type": "text",
        "text": "I will construct a comprehensive, full-stack Instagram clone named 'MyIG'. This application will be a Progressive Web App (PWA), making it installable on user devices for a native-like experience. The project is built entirely with vanilla HTML, CSS, and JavaScript, leveraging Firebase for all backend services including Authentication, Firestore Database, and Storage. The architecture is multi-page, featuring separate HTML files for login, feed, profile, and uploading posts. The UI is modern, responsive, and mobile-first, styled with Tailwind CSS and enhanced with Font Awesome icons. The JavaScript is modularized into separate files for handling authentication, Firebase configuration, page-specific logic (feed, profile, upload), and PWA service worker registration. I will also include a `firestore.rules` file to define the necessary security rules for the database, ensuring data integrity and user privacy. To get this running, the user will need to set up a Firebase project and populate the `js/firebase.js` file with their own configuration credentials."
      }
    ],
    "object": {
      "commentary": "I will construct a comprehensive, full-stack Instagram clone named 'MyIG'. This application will be a Progressive Web App (PWA), making it installable on user devices for a native-like experience. The project is built entirely with vanilla HTML, CSS, and JavaScript, leveraging Firebase for all backend services including Authentication, Firestore Database, and Storage. The architecture is multi-page, featuring separate HTML files for login, feed, profile, and uploading posts. The UI is modern, responsive, and mobile-first, styled with Tailwind CSS and enhanced with Font Awesome icons. The JavaScript is modularized into separate files for handling authentication, Firebase configuration, page-specific logic (feed, profile, upload), and PWA service worker registration. I will also include a `firestore.rules` file to define the necessary security rules for the database, ensuring data integrity and user privacy. To get this running, the user will need to set up a Firebase project and populate the `js/firebase.js` file with their own configuration credentials.",
      "template": "vanilla-js",
      "title": "MyIG: Full-Stack Instagram Clone",
      "description": "A complete, full-stack Instagram clone built with vanilla JavaScript and Firebase, featuring PWA support, user authentication, post creation, a real-time feed, and user profiles.",
      "additional_dependencies": [
        "firebase"
      ],
      "has_additional_dependencies": true,
      "install_dependencies_command": "This project uses CDN links for libraries like Tailwind CSS, Font Awesome, and Firebase, so no local installation is required. You only need to set up a Firebase project in the cloud.",
      "port": null,
      "files": [
        {
          "file_name": "index.html",
          "file_path": "index.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login | MyIG</title>\n    <meta name=\"theme-color\" content=\"#ffffff\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    <link rel=\"apple-touch-icon\" href=\"/images/icon-192x192.png\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <div class=\"container mx-auto flex flex-col justify-center items-center min-h-screen p-4\">\n        <div class=\"w-full max-w-sm\">\n            <!-- Login Form -->\n            <div id=\"login-container\" class=\"bg-white border border-gray-300 rounded-lg p-8 mb-4\">\n                <h1 class=\"text-4xl font-serif text-center mb-6\">MyIG</h1>\n                <form id=\"login-form\">\n                    <input type=\"email\" id=\"login-email\" placeholder=\"Email\" class=\"w-full p-2 mb-3 bg-gray-50 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n                    <input type=\"password\" id=\"login-password\" placeholder=\"Password\" class=\"w-full p-2 mb-4 bg-gray-50 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n                    <button type=\"submit\" class=\"w-full bg-blue-500 text-white py-2 rounded font-semibold hover:bg-blue-600 transition-colors\">Log In</button>\n                </form>\n                <p id=\"login-error\" class=\"text-red-500 text-center mt-4 text-sm\"></p>\n            </div>\n\n            <!-- Signup Form -->\n            <div id=\"signup-container\" class=\"bg-white border border-gray-300 rounded-lg p-8 mb-4 hidden\">\n                <h1 class=\"text-4xl font-serif text-center mb-6\">MyIG</h1>\n                 <p class=\"text-gray-500 text-center font-semibold mb-4\">Sign up to see photos and videos from your friends.</p>\n                <form id=\"signup-form\">\n                    <input type=\"email\" id=\"signup-email\" placeholder=\"Email\" class=\"w-full p-2 mb-3 bg-gray-50 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n                    <input type=\"text\" id=\"signup-username\" placeholder=\"Username\" class=\"w-full p-2 mb-3 bg-gray-50 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n                    <input type=\"password\" id=\"signup-password\" placeholder=\"Password\" class=\"w-full p-2 mb-4 bg-gray-50 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\n                    <button type=\"submit\" class=\"w-full bg-blue-500 text-white py-2 rounded font-semibold hover:bg-blue-600 transition-colors\">Sign Up</button>\n                </form>\n                <p id=\"signup-error\" class=\"text-red-500 text-center mt-4 text-sm\"></p>\n            </div>\n\n            <div class=\"bg-white border border-gray-300 rounded-lg p-4 text-center\">\n                <p id=\"toggle-text\">Don't have an account? <a href=\"#\" id=\"toggle-link\" class=\"text-blue-500 font-semibold\">Sign up</a></p>\n            </div>\n        </div>\n    </div>\n\n    <script src=\"js/main.js\"></script>\n    <script type=\"module\" src=\"js/auth.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "feed.html",
          "file_path": "feed.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Feed | MyIG</title>\n    <meta name=\"theme-color\" content=\"#ffffff\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    <link rel=\"apple-touch-icon\" href=\"/images/icon-192x192.png\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <!-- Header -->\n    <header class=\"bg-white border-b border-gray-300 fixed top-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-between items-center p-3\">\n            <h1 class=\"text-2xl font-serif\">MyIG</h1>\n            <button id=\"logout-btn\" class=\"text-gray-600 hover:text-blue-500\"><i class=\"fas fa-sign-out-alt fa-lg\"></i></button>\n        </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"container mx-auto max-w-lg pt-16 pb-20\">\n        <div id=\"feed-container\"> \n            <!-- Loading Skeleton -->\n            <div class=\"post-skeleton bg-white border border-gray-300 rounded-lg mb-4\">\n                <div class=\"p-3 flex items-center\">\n                    <div class=\"w-8 h-8 bg-gray-200 rounded-full animate-pulse\"></div>\n                    <div class=\"w-24 h-4 bg-gray-200 rounded ml-3 animate-pulse\"></div>\n                </div>\n                <div class=\"w-full h-96 bg-gray-200 animate-pulse\"></div>\n                <div class=\"p-3\">\n                    <div class=\"w-1/4 h-4 bg-gray-200 rounded mb-2 animate-pulse\"></div>\n                    <div class=\"w-full h-4 bg-gray-200 rounded animate-pulse\"></div>\n                </div>\n            </div>\n        </div>\n    </main>\n\n    <!-- Bottom Navigation -->\n    <nav class=\"bg-white border-t border-gray-300 fixed bottom-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-around items-center h-16\">\n            <a href=\"/feed.html\" class=\"text-blue-500 text-2xl\"><i class=\"fas fa-home\"></i></a>\n            <a href=\"/upload.html\" class=\"text-gray-600 text-2xl\"><i class=\"far fa-plus-square\"></i></a>\n            <a href=\"/profile.html\" class=\"text-gray-600 text-2xl\"><i class=\"far fa-user\"></i></a>\n        </div>\n    </nav>\n\n    <script src=\"js/main.js\"></script>\n    <script type=\"module\" src=\"js/feed.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "upload.html",
          "file_path": "upload.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Upload | MyIG</title>\n    <meta name=\"theme-color\" content=\"#ffffff\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    <link rel=\"apple-touch-icon\" href=\"/images/icon-192x192.png\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <!-- Header -->\n    <header class=\"bg-white border-b border-gray-300 fixed top-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-between items-center p-3\">\n            <h1 class=\"text-2xl font-serif\">New Post</h1>\n            <button id=\"post-btn\" class=\"text-blue-500 font-semibold text-lg hidden\">Post</button>\n        </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"container mx-auto max-w-lg pt-16 pb-20 p-4\">\n        <div id=\"upload-container\">\n            <div id=\"image-preview-container\" class=\"mb-4 hidden\">\n                <img id=\"image-preview\" src=\"#\" alt=\"Image preview\" class=\"max-w-full rounded-lg mx-auto\">\n            </div>\n\n            <label for=\"file-upload\" class=\"w-full flex flex-col items-center px-4 py-6 bg-white text-blue-500 rounded-lg shadow-lg tracking-wide uppercase border border-blue-500 cursor-pointer hover:bg-blue-500 hover:text-white\">\n                <i class=\"fas fa-cloud-upload-alt fa-3x\"></i>\n                <span class=\"mt-2 text-base leading-normal\">Select a photo</span>\n                <input type='file' id=\"file-upload\" class=\"hidden\" accept=\"image/*\" />\n            </label>\n\n            <textarea id=\"caption-input\" class=\"w-full p-2 mt-4 bg-gray-100 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-400 hidden\" placeholder=\"Write a caption...\"></textarea>\n\n            <div id=\"progress-container\" class=\"w-full bg-gray-200 rounded-full h-2.5 mt-4 hidden\">\n                <div id=\"progress-bar\" class=\"bg-blue-600 h-2.5 rounded-full\" style=\"width: 0%\"></div>\n            </div>\n            <p id=\"upload-status\" class=\"text-center mt-2\"></p>\n        </div>\n    </main>\n\n    <!-- Bottom Navigation -->\n    <nav class=\"bg-white border-t border-gray-300 fixed bottom-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-around items-center h-16\">\n            <a href=\"/feed.html\" class=\"text-gray-600 text-2xl\"><i class=\"fas fa-home\"></i></a>\n            <a href=\"/upload.html\" class=\"text-blue-500 text-2xl\"><i class=\"far fa-plus-square\"></i></a>\n            <a href=\"/profile.html\" class=\"text-gray-600 text-2xl\"><i class=\"far fa-user\"></i></a>\n        </div>\n    </nav>\n\n    <script src=\"js/main.js\"></script>\n    <script type=\"module\" src=\"js/upload.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "profile.html",
          "file_path": "profile.html",
          "file_content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Profile | MyIG</title>\n    <meta name=\"theme-color\" content=\"#ffffff\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    <link rel=\"stylesheet\" href=\"css/main.css\">\n    <link rel=\"manifest\" href=\"/manifest.json\">\n    <link rel=\"apple-touch-icon\" href=\"/images/icon-192x192.png\">\n</head>\n<body class=\"bg-gray-50\">\n\n    <!-- Header -->\n    <header class=\"bg-white border-b border-gray-300 fixed top-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-between items-center p-3\">\n            <h1 id=\"profile-username\" class=\"text-xl font-semibold\"></h1>\n            <button id=\"logout-btn-profile\" class=\"text-gray-600 hover:text-blue-500\"><i class=\"fas fa-sign-out-alt fa-lg\"></i></button>\n        </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"container mx-auto max-w-4xl pt-16 pb-20 p-4\">\n        <!-- Profile Info -->\n        <div class=\"flex items-center mb-6\">\n            <div class=\"w-20 h-20 bg-gray-300 rounded-full mr-6\"></div>\n            <div>\n                <h2 id=\"profile-username-main\" class=\"text-2xl font-light\">Loading...</h2>\n                <div class=\"flex space-x-4 mt-2 text-center\">\n                    <div><span id=\"post-count\" class=\"font-semibold\">0</span> posts</div>\n                </div>\n            </div>\n        </div>\n\n        <!-- User Posts Grid -->\n        <div id=\"profile-posts-container\" class=\"grid grid-cols-3 gap-1\">\n            <!-- Posts will be injected here -->\n        </div>\n    </main>\n\n    <!-- Bottom Navigation -->\n    <nav class=\"bg-white border-t border-gray-300 fixed bottom-0 left-0 right-0 z-10\">\n        <div class=\"container mx-auto flex justify-around items-center h-16\">\n            <a href=\"/feed.html\" class=\"text-gray-600 text-2xl\"><i class=\"fas fa-home\"></i></a>\n            <a href=\"/upload.html\" class=\"text-gray-600 text-2xl\"><i class=\"far fa-plus-square\"></i></a>\n            <a href=\"/profile.html\" class=\"text-blue-500 text-2xl\"><i class=\"far fa-user\"></i></a>\n        </div>\n    </nav>\n\n    <script src=\"js/main.js\"></script>\n    <script type=\"module\" src=\"js/profile.js\"></script>\n</body>\n</html>"
        },
        {
          "file_name": "main.css",
          "file_path": "css/main.css",
          "file_content": "body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n}\n\n.font-serif {\n    font-family: 'Billabong', 'Grand Hotel', cursive;\n}"
        },
        {
          "file_name": "main.js",
          "file_path": "js/main.js",
          "file_content": "document.addEventListener('DOMContentLoaded', () => {\n    // PWA Service Worker Registration\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('/sw.js')\n            .then(registration => {\n                console.log('Service Worker registered with scope:', registration.scope);\n            }).catch(error => {\n                console.log('Service Worker registration failed:', error);\n            });\n    }\n});"
        },
        {
          "file_name": "firebase.js",
          "file_path": "js/firebase.js",
          "file_content": "// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js';\nimport { getAuth } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';\nimport { getFirestore } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';\nimport { getStorage } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js';\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// IMPORTANT: REPLACE WITH YOUR OWN FIREBASE CONFIG\nconst firebaseConfig = {\n  apiKey: \"YOUR_API_KEY\",\n  authDomain: \"YOUR_AUTH_DOMAIN\",\n  projectId: \"YOUR_PROJECT_ID\",\n  storageBucket: \"YOUR_STORAGE_BUCKET\",\n  messagingSenderId: \"YOUR_MESSAGING_SENDER_ID\",\n  appId: \"YOUR_APP_ID\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Export Firebase services\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\nexport const storage = getStorage(app);"
        },
        {
          "file_name": "auth.js",
          "file_path": "js/auth.js",
          "file_content": "import { auth, db } from './firebase.js';\nimport {\n    createUserWithEmailAndPassword,\n    signInWithEmailAndPassword,\n    onAuthStateChanged,\n    signOut\n} from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';\nimport { doc, setDoc } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';\n\n// --- AUTH STATE OBSERVER ---\ndocument.addEventListener('DOMContentLoaded', () => {\n    onAuthStateChanged(auth, user => {\n        const isAuthPage = window.location.pathname === '/' || window.location.pathname === '/index.html';\n        if (user) {\n            // User is signed in.\n            if (isAuthPage) {\n                window.location.href = '/feed.html';\n            }\n        } else {\n            // User is signed out.\n            if (!isAuthPage) {\n                window.location.href = '/index.html';\n            }\n        }\n    });\n});\n\n// --- DOM ELEMENTS (for index.html) ---\nconst loginForm = document.getElementById('login-form');\nconst signupForm = document.getElementById('signup-form');\nconst loginContainer = document.getElementById('login-container');\nconst signupContainer = document.getElementById('signup-container');\nconst toggleLink = document.getElementById('toggle-link');\nconst toggleText = document.getElementById('toggle-text');\nconst loginError = document.getElementById('login-error');\nconst signupError = document.getElementById('signup-error');\n\n// --- EVENT LISTENERS (for index.html) ---\nif (loginForm) {\n    // Toggle between Login and Signup forms\n    toggleLink.addEventListener('click', (e) => {\n        e.preventDefault();\n        loginContainer.classList.toggle('hidden');\n        signupContainer.classList.toggle('hidden');\n        if (signupContainer.classList.contains('hidden')) {\n            toggleText.innerHTML = `Don't have an account? <a href=\"#\" id=\"toggle-link\" class=\"text-blue-500 font-semibold\">Sign up</a>`;\n        } else {\n            toggleText.innerHTML = `Have an account? <a href=\"#\" id=\"toggle-link\" class=\"text-blue-500 font-semibold\">Log in</a>`;\n        }\n        // Re-add event listener to the new link\n        document.getElementById('toggle-link').addEventListener('click', arguments.callee);\n    });\n\n    // Login\n    loginForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const email = document.getElementById('login-email').value;\n        const password = document.getElementById('login-password').value;\n        signInWithEmailAndPassword(auth, email, password)\n            .then(userCredential => {\n                console.log('User logged in:', userCredential.user);\n                loginError.textContent = '';\n            })\n            .catch(error => {\n                loginError.textContent = error.message;\n            });\n    });\n\n    // Signup\n    signupForm.addEventListener('submit', async (e) => {\n        e.preventDefault();\n        const email = document.getElementById('signup-email').value;\n        const username = document.getElementById('signup-username').value;\n        const password = document.getElementById('signup-password').value;\n\n        try {\n            const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n            // Store additional user info in Firestore\n            await setDoc(doc(db, 'users', userCredential.user.uid), {\n                username: username,\n                email: email\n            });\n            console.log('User signed up:', userCredential.user);\n            signupError.textContent = '';\n        } catch (error) {\n            signupError.textContent = error.message;\n        }\n    });\n}\n\n// --- LOGOUT FUNCTIONALITY (for other pages) ---\nconst logoutBtn = document.getElementById('logout-btn') || document.getElementById('logout-btn-profile');\nif (logoutBtn) {\n    logoutBtn.addEventListener('click', () => {\n        signOut(auth).catch(error => console.error('Sign out error', error));\n    });\n}"
        },
        {
          "file_name": "feed.js",
          "file_path": "js/feed.js",
          "file_content": "import { db, auth } from './firebase.js';\nimport { collection, query, getDocs, orderBy, doc, getDoc, updateDoc, arrayUnion, arrayRemove } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';\nimport { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const feedContainer = document.getElementById('feed-container');\n\n    onAuthStateChanged(auth, user => {\n        if (user) {\n            fetchPosts(user.uid);\n        } else {\n            feedContainer.innerHTML = '<p class=\"text-center text-gray-500\">Please log in to see the feed.</p>';\n        }\n    });\n\n    const fetchPosts = async (currentUserId) => {\n        try {\n            const postsQuery = query(collection(db, 'posts'), orderBy('timestamp', 'desc'));\n            const querySnapshot = await getDocs(postsQuery);\n            feedContainer.innerHTML = ''; // Clear skeleton\n\n            if (querySnapshot.empty) {\n                feedContainer.innerHTML = '<p class=\"text-center text-gray-500\">No posts yet. Be the first to share!</p>';\n                return;\n            }\n\n            for (const postDoc of querySnapshot.docs) {\n                const post = postDoc.data();\n                const userDocRef = doc(db, 'users', post.userId);\n                const userDocSnap = await getDoc(userDocRef);\n                const username = userDocSnap.exists() ? userDocSnap.data().username : 'Unknown User';\n\n                const postElement = createPostElement(postDoc.id, post, username, currentUserId);\n                feedContainer.appendChild(postElement);\n            }\n        } catch (error) {\n            console.error(\"Error fetching posts: \", error);\n            feedContainer.innerHTML = '<p class=\"text-center text-red-500\">Could not load feed.</p>';\n        }\n    };\n\n    const createPostElement = (postId, post, username, currentUserId) => {\n        const postDiv = document.createElement('div');\n        postDiv.className = 'bg-white border border-gray-300 rounded-lg mb-4';\n\n        const isLiked = post.likes && post.likes.includes(currentUserId);\n\n        postDiv.innerHTML = `\n            <div class=\"p-3 flex items-center\">\n                <div class=\"w-8 h-8 bg-gray-300 rounded-full mr-3\"></div>\n                <span class=\"font-semibold\">${username}</span>\n            </div>\n            <img src=\"${post.imageUrl}\" alt=\"Post by ${username}\" class=\"w-full\">\n            <div class=\"p-3\">\n                <div class=\"flex space-x-4 mb-2\">\n                    <button class=\"like-btn\" data-post-id=\"${postId}\">\n                        <i class=\"${isLiked ? 'fas text-red-500' : 'far'} fa-heart text-2xl\"></i>\n                    </button>\n                    <button><i class=\"far fa-comment text-2xl\"></i></button>\n                </div>\n                <p class=\"font-semibold\"><span class=\"like-count\">${post.likes ? post.likes.length : 0}</span> likes</p>\n                <p><span class=\"font-semibold\">${username}</span> ${post.caption}</p>\n            </div>\n        `;\n\n        const likeBtn = postDiv.querySelector('.like-btn');\n        likeBtn.addEventListener('click', () => handleLike(postId, currentUserId, likeBtn, postDiv));\n\n        return postDiv;\n    };\n\n    const handleLike = async (postId, userId, likeBtn, postDiv) => {\n        const postRef = doc(db, 'posts', postId);\n        const likeIcon = likeBtn.querySelector('i');\n        const likeCountSpan = postDiv.querySelector('.like-count');\n\n        try {\n            const postSnap = await getDoc(postRef);\n            if (!postSnap.exists()) return;\n\n            const postData = postSnap.data();\n            const likes = postData.likes || [];\n\n            if (likes.includes(userId)) {\n                // Unlike\n                await updateDoc(postRef, { likes: arrayRemove(userId) });\n                likeIcon.classList.remove('fas', 'text-red-500');\n                likeIcon.classList.add('far');\n                likeCountSpan.textContent = parseInt(likeCountSpan.textContent) - 1;\n            } else {\n                // Like\n                await updateDoc(postRef, { likes: arrayUnion(userId) });\n                likeIcon.classList.remove('far');\n                likeIcon.classList.add('fas', 'text-red-500');\n                likeCountSpan.textContent = parseInt(likeCountSpan.textContent) + 1;\n            }\n        } catch (error) {\n            console.error('Error updating like:', error);\n        }\n    };\n});"
        },
        {
          "file_name": "profile.js",
          "file_path": "js/profile.js",
          "file_content": "import { db, auth } from './firebase.js';\nimport { collection, query, where, getDocs, orderBy, doc, getDoc } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';\nimport { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const profileUsernameHeader = document.getElementById('profile-username');\n    const profileUsernameMain = document.getElementById('profile-username-main');\n    const postCount = document.getElementById('post-count');\n    const postsContainer = document.getElementById('profile-posts-container');\n\n    onAuthStateChanged(auth, async user => {\n        if (user) {\n            try {\n                // Fetch user data\n                const userDocRef = doc(db, 'users', user.uid);\n                const userDocSnap = await getDoc(userDocRef);\n                if (userDocSnap.exists()) {\n                    const userData = userDocSnap.data();\n                    profileUsernameHeader.textContent = userData.username;\n                    profileUsernameMain.textContent = userData.username;\n                }\n\n                // Fetch user's posts\n                const postsQuery = query(\n                    collection(db, 'posts'),\n                    where('userId', '==', user.uid),\n                    orderBy('timestamp', 'desc')\n                );\n                const querySnapshot = await getDocs(postsQuery);\n\n                postCount.textContent = querySnapshot.size;\n                postsContainer.innerHTML = ''; // Clear any placeholders\n\n                querySnapshot.forEach(doc => {\n                    const post = doc.data();\n                    const postElement = document.createElement('div');\n                    postElement.className = 'aspect-square bg-gray-200';\n                    postElement.innerHTML = `<img src=\"${post.imageUrl}\" alt=\"Post\" class=\"w-full h-full object-cover\">`;\n                    postsContainer.appendChild(postElement);\n                });\n\n            } catch (error) {\n                console.error('Error fetching profile data:', error);\n                postsContainer.innerHTML = '<p class=\"text-red-500 col-span-3\">Could not load profile.</p>';\n            }\n        } else {\n            // Handle user not logged in\n            profileUsernameMain.textContent = 'Not logged in';\n        }\n    });\n});"
        },
        {
          "file_name": "upload.js",
          "file_path": "js/upload.js",
          "file_content": "import { db, storage, auth } from './firebase.js';\nimport { ref, uploadBytesResumable, getDownloadURL } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js';\nimport { collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';\nimport { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const fileUpload = document.getElementById('file-upload');\n    const imagePreviewContainer = document.getElementById('image-preview-container');\n    const imagePreview = document.getElementById('image-preview');\n    const captionInput = document.getElementById('caption-input');\n    const postBtn = document.getElementById('post-btn');\n    const progressContainer = document.getElementById('progress-container');\n    const progressBar = document.getElementById('progress-bar');\n    const uploadStatus = document.getElementById('upload-status');\n\n    let selectedFile = null;\n    let currentUser = null;\n\n    onAuthStateChanged(auth, user => {\n        if (user) {\n            currentUser = user;\n        } else {\n            currentUser = null;\n            window.location.href = '/index.html'; // Redirect if not logged in\n        }\n    });\n\n    fileUpload.addEventListener('change', (e) => {\n        const file = e.target.files[0];\n        if (file) {\n            selectedFile = file;\n            const reader = new FileReader();\n            reader.onload = function(e) {\n                imagePreview.src = e.target.result;\n                imagePreviewContainer.classList.remove('hidden');\n                captionInput.classList.remove('hidden');\n                postBtn.classList.remove('hidden');\n            };\n            reader.readAsDataURL(file);\n        }\n    });\n\n    postBtn.addEventListener('click', () => {\n        if (!selectedFile || !currentUser) {\n            uploadStatus.textContent = 'Please select a file and be logged in.';\n            return;\n        }\n\n        postBtn.disabled = true;\n        uploadStatus.textContent = 'Uploading...';\n        progressContainer.classList.remove('hidden');\n\n        const storageRef = ref(storage, `posts/${currentUser.uid}/${Date.now()}_${selectedFile.name}`);\n        const uploadTask = uploadBytesResumable(storageRef, selectedFile);\n\n        uploadTask.on('state_changed',\n            (snapshot) => {\n                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                progressBar.style.width = progress + '%';\n            },\n            (error) => {\n                console.error('Upload failed:', error);\n                uploadStatus.textContent = 'Upload failed! Please try again.';\n                postBtn.disabled = false;\n            },\n            () => {\n                getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n                    try {\n                        await addDoc(collection(db, 'posts'), {\n                            userId: currentUser.uid,\n                            caption: captionInput.value,\n                            imageUrl: downloadURL,\n                            likes: [],\n                            timestamp: serverTimestamp()\n                        });\n                        uploadStatus.textContent = 'Post created successfully!';\n                        setTimeout(() => {\n                            window.location.href = '/feed.html';\n                        }, 1500);\n                    } catch (error) {\n                        console.error('Error adding document: ', error);\n                        uploadStatus.textContent = 'Failed to create post.';\n                        postBtn.disabled = false;\n                    }\n                });\n            }\n        );\n    });\n});"
        },
        {
          "file_name": "manifest.json",
          "file_path": "manifest.json",
          "file_content": "{\n  \"name\": \"MyIG\",\n  \"short_name\": \"MyIG\",\n  \"start_url\": \"/index.html\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#ffffff\",\n  \"theme_color\": \"#ffffff\",\n  \"description\": \"A modern Instagram clone.\",\n  \"icons\": [\n    {\n      \"src\": \"/images/icon-72x72.png\",\n      \"sizes\": \"72x72\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-96x96.png\",\n      \"sizes\": \"96x96\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-128x128.png\",\n      \"sizes\": \"128x128\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-144x144.png\",\n      \"sizes\": \"144x144\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-152x152.png\",\n      \"sizes\": \"152x152\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-192x192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\",\n      \"purpose\": \"any maskable\"\n    },\n    {\n      \"src\": \"/images/icon-384x384.png\",\n      \"sizes\": \"384x384\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"/images/icon-512x512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}"
        },
        {
          "file_name": "sw.js",
          "file_path": "sw.js",
          "file_content": "const CACHE_NAME = 'myig-cache-v1';\nconst urlsToCache = [\n    '/',\n    '/index.html',\n    '/feed.html',\n    '/profile.html',\n    '/upload.html',\n    '/css/main.css',\n    '/js/main.js',\n    '/js/auth.js',\n    '/js/feed.js',\n    '/js/profile.js',\n    '/js/upload.js',\n    '/js/firebase.js',\n    '/images/icon-192x192.png',\n    '/images/icon-512x512.png',\n    'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css',\n    'https://cdn.tailwindcss.com'\n];\n\nself.addEventListener('install', event => {\n    event.waitUntil(\n        caches.open(CACHE_NAME)\n            .then(cache => {\n                console.log('Opened cache');\n                return cache.addAll(urlsToCache);\n            })\n    );\n});\n\nself.addEventListener('fetch', event => {\n    event.respondWith(\n        caches.match(event.request)\n            .then(response => {\n                if (response) {\n                    return response; // Serve from cache\n                }\n                return fetch(event.request); // Fetch from network\n            })\n    );\n});\n\nself.addEventListener('activate', event => {\n    const cacheWhitelist = [CACHE_NAME];\n    event.waitUntil(\n        caches.keys().then(cacheNames => {\n            return Promise.all(\n                cacheNames.map(cacheName => {\n                    if (cacheWhitelist.indexOf(cacheName) === -1) {\n                        return caches.delete(cacheName);\n                    }\n                })\n            );\n        })\n    );\n});"
        },
        {
          "file_name": "firestore.rules",
          "file_path": "firestore.rules",
          "file_content": "rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n\n    // Users can only read and write their own user document.\n    match /users/{userId} {\n      allow read, update, delete: if request.auth != null && request.auth.uid == userId;\n      allow create: if request.auth != null;\n    }\n\n    // Anyone authenticated can read posts.\n    // Users can only create posts for themselves.\n    // Users can only update the 'likes' array on any post.\n    // Users can only delete their own posts.\n    match /posts/{postId} {\n      allow read: if request.auth != null;\n      allow create: if request.auth != null && request.auth.uid == request.resource.data.userId;\n      allow update: if request.auth != null && request.resource.data.diff(resource.data).affectedKeys().hasOnly(['likes']);\n      allow delete: if request.auth != null && resource.data.userId == request.auth.uid;\n    }\n  }\n}"
        },
        {
          "file_name": "icon-192x192.png",
          "file_path": "images/icon-192x192.png",
          "file_content": "iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAAaklEQVR42u3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPgZA3sAAScfA/8AAAAASUVORK5CYII="
        },
        {
          "file_name": "icon-512x512.png",
          "file_path": "images/icon-512x512.png",
          "file_content": "iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAaklEQVR42u3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPgZA3sAAScfA/8AAAAASUVORK5CYII="
        }
      ]
    }
  }
]